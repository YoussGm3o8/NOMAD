# MAVLink Router Configuration for NOMAD
# Target: NVIDIA Jetson Orin Nano with Cube Orange flight controller
#
# Documentation: https://mavlink-router.github.io/mavlink-router/
#
# Endpoints:
# - UART: Connection to Cube Orange flight controller
# - UDP Orchestrator: Edge Core main application
# - UDP Vision: Vision process for detections
# - UDP GCS: Ground Control Station via Tailscale

[General]
# TCP port for MAVLink Router status (default: 5760)
TcpServerPort = 5760

# Log level: error, warning, info, debug
Log = info

# MAVLink dialect (auto-detect or force: common, ardupilotmega)
MavlinkDialect = auto

# Report statistics interval (seconds, 0 to disable)
ReportStats = 30

# ============================================================
# UART Endpoint - Cube Orange Flight Controller
# ============================================================
[UartEndpoint CubeOrange]
Device = /dev/ttyTHS1
Baud = 921600

# Flow control (enable if supported by hardware)
FlowControl = false

# ============================================================
# UDP Endpoint - Orchestrator (Edge Core Main)
# ============================================================
# Local endpoint for the main Edge Core application
# Receives all MAVLink traffic for state management
[UdpEndpoint Orchestrator]
Mode = Normal
Address = 127.0.0.1
Port = 14550

# ============================================================
# UDP Endpoint - Vision Process
# ============================================================
# Local endpoint for the Vision process
# Receives position and attitude data for target tracking
[UdpEndpoint Vision]
Mode = Normal
Address = 127.0.0.1
Port = 14551

# ============================================================
# UDP Endpoint - Ground Control Station (via Tailscale)
# ============================================================
# Remote endpoint for GCS (Mission Planner, QGroundControl)
# Connected via Tailscale VPN for secure remote access
#
# NOTE: Replace with actual Tailscale IP of GCS machine
# Run 'tailscale status' on GCS to get IP address
[UdpEndpoint GCS]
Mode = Normal
Address = 100.100.100.100
Port = 14552

# ============================================================
# Alternative Endpoints (commented out)
# ============================================================

# USB Serial (if using USB connection instead of UART)
# [UartEndpoint CubeUSB]
# Device = /dev/ttyACM0
# Baud = 115200

# TCP Server for additional clients
# [TcpServerEndpoint TcpClients]
# Port = 5762

# Broadcast on local network (use with caution)
# [UdpEndpoint Broadcast]
# Mode = Eavesdropping
# Address = 192.168.1.255
# Port = 14553
